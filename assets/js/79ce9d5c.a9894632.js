(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{80:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return s})),t.d(n,"toc",(function(){return d})),t.d(n,"default",(function(){return l}));var a=t(3),r=t(7),o=(t(0),t(95)),i={title:"Zones"},s={unversionedId:"advanced/zones",id:"advanced/zones",isDocsHomePage:!1,title:"Zones",description:"Zones are a feature for v2, so the v2.0.0 branch of the engine must be used to access these features!",source:"@site/docs/advanced/zones.md",slug:"/advanced/zones",permalink:"/docs/advanced/zones",editUrl:"https://github.com/terasology/TutorialWorldGeneration/edit/develop/docs/docs/advanced/zones.md",version:"current",sidebar:"someSidebar",previous:{title:"Facets Across Borders",permalink:"/docs/advanced/facets-across-borders"},next:{title:"World Viewer",permalink:"/docs/advanced/world-viewer"}},d=[{value:"What are zones",id:"what-are-zones",children:[]},{value:"Adding rasterizers and providers",id:"adding-rasterizers-and-providers",children:[]},{value:"Preview layers",id:"preview-layers",children:[]},{value:"Nested Zones",id:"nested-zones",children:[]},{value:"Layered Zones",id:"layered-zones",children:[]},{value:"Zone Plugins",id:"zone-plugins",children:[]}],c={toc:d};function l(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"Zones are a feature for v2, so the ",Object(o.b)("inlineCode",{parentName:"p"},"v2.0.0")," branch of the engine must be used to access these features!"))),Object(o.b)("h3",{id:"what-are-zones"},"What are zones"),Object(o.b)("p",null,"Zones allow the world generator to be split up into separate areas for the purposes of generation and previews."),Object(o.b)("p",null,"A zone is specified by a ",Object(o.b)("inlineCode",{parentName:"p"},"ZoneRegionFunction"),", which returns true for every block in the zone, and false for every block that isn't in the zone. This can be created directly from the ",Object(o.b)("inlineCode",{parentName:"p"},"ZoneRegionFunction")," (often as a lambda), or a subclass, such as ",Object(o.b)("inlineCode",{parentName:"p"},"LayeredZoneRegionFunction"),", can be used (layered zones will be described later)."),Object(o.b)("p",null,"Zones get added to the WorldGenerator with the addZone method."),Object(o.b)("p",null,"Example zone creation (assuming a pre-existing ",Object(o.b)("inlineCode",{parentName:"p"},"WorldGenerator")," called ",Object(o.b)("inlineCode",{parentName:"p"},"worldGenerator"),"):"),Object(o.b)("p",null,"This creates a zone with the name ",Object(o.b)("inlineCode",{parentName:"p"},"Zone1"),", and only contains blocks with a y-coordinate of 10 or higher."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'worldGenerator.addZone(new Zone("Zone1", (x, y, z, region) -> y >= 10));\n')),Object(o.b)("p",null,"This zone will only contain blocks that are above the surface of the world."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'worldGenerator.addZone(new Zone("Zone2", (x, y, z, region) ->\n    y > TeraMath.floorToInt(region.getFacet(ElevationFacet.class).getWorld(x, z))));\n')),Object(o.b)("h3",{id:"adding-rasterizers-and-providers"},"Adding rasterizers and providers"),Object(o.b)("p",null,"The zones given above contain blocks, but they do not do anything. To make the zones have an effect on the world, providers and rasterizers must be added (in the same way as for normal world generators)."),Object(o.b)("p",null,"Examples (assuming a pre-existing ",Object(o.b)("inlineCode",{parentName:"p"},"Zone")," called ",Object(o.b)("inlineCode",{parentName:"p"},"zone"),")"),Object(o.b)("p",null,"This zone will create trees, but the trees will only be present in areas contained by the zone."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},"worldGenerator.addZone(zone.addProvider(new DefaultTreeProvider())\n    .addRasterizer(new TreeRasterizer()))\n")),Object(o.b)("p",null,"This zone will set all blocks underneath the surface to stone."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'worldGenerator.addZone(new Zone("UndergroundStone", (x, y, z, region) ->\n    y < TeraMath.floorToInt(region.getFacet(ElevationFacet.class).getWorld(x, z)))\n    .addRasterizer(new SingleBlockRasterizer("CoreAssets:Stone")));\n')),Object(o.b)("h3",{id:"preview-layers"},"Preview layers"),Object(o.b)("p",null,"Zones can also have preview layers added to them, and the top level zones (those added directly to the ",Object(o.b)("inlineCode",{parentName:"p"},"WorldBuidler"),") will show up on the world preview screen as a drop-down list to choose which to preview."),Object(o.b)("p",null,"The preview layers are the same ",Object(o.b)("inlineCode",{parentName:"p"},"FacetLayer"),"s that the world preview uses, and they are added to a zone with the ",Object(o.b)("inlineCode",{parentName:"p"},"addPreviewLayer")," method."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},"zone.addPreviewLayer(new SurfaceHeightFacetLayer())\n")),Object(o.b)("h3",{id:"nested-zones"},"Nested Zones"),Object(o.b)("p",null,"Zones can be nested, by adding zones to existing zones (with the ",Object(o.b)("inlineCode",{parentName:"p"},"addZone")," method). The child zones will only affect areas also affected by their parent zone, so this can be used to further sub-divide zones."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'zone.addZone(new Zone("Nested zone", (x, y, z, region) -> x > z)\n    .addRasterizer(new SingleBlockRasterizer("CoreAssets:Sand")))\n')),Object(o.b)("h3",{id:"layered-zones"},"Layered Zones"),Object(o.b)("p",null,"Instead of manually creating a ",Object(o.b)("inlineCode",{parentName:"p"},"ZoneRegionFunction"),", the ",Object(o.b)("inlineCode",{parentName:"p"},"LayeredZoneRegionFunction")," can be used for specific types of zones. These zones are layered on top of each other and don't overlap. They can be used, for example, to separate the underground, surface, and sky into separate regions for generation."),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"LayeredZoneRegionFunction")," needs some properties to determine its shape and position. The first property is a ",Object(o.b)("inlineCode",{parentName:"p"},"LayerThickness"),", which has a function from the ",Object(o.b)("inlineCode",{parentName:"p"},"x, y")," position of the layer to its width at that point."),Object(o.b)("p",null,"If a layer just needs to be a constant thickness, the ",Object(o.b)("inlineCode",{parentName:"p"},"ConstantLayerThickness")," can be used; the ",Object(o.b)("inlineCode",{parentName:"p"},"MinMaxLayerThickness")," can be used to have the thickness be in a predefined range; or a custom thickness function can be made from either ",Object(o.b)("inlineCode",{parentName:"p"},"LayerThickness")," or ",Object(o.b)("inlineCode",{parentName:"p"},"SeededNoiseLayerThickness"),"."),Object(o.b)("p",null,"The layer also needs an ordering value, to determine where it should be in the world. This is just an integer, but there are some predefined constants in ",Object(o.b)("inlineCode",{parentName:"p"},"LayeredZoneRegionFunction.LayeredZoneOrdering")," which can be used."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'worldGenerator.addZone(new Zone("Ground layer", new LayeredZoneRegionFunction(new ConstantLayerThickness(5), LayeredZoneRegionFunction.LayeredZoneOrdering.GROUND)))\n')),Object(o.b)("h3",{id:"zone-plugins"},"Zone Plugins"),Object(o.b)("p",null,"Zones can be used as world plugins, just like facet providers and rasterizers. The class needs to extend ",Object(o.b)("inlineCode",{parentName:"p"},"ZonePlugin"),", and have the ",Object(o.b)("inlineCode",{parentName:"p"},"@RegisterPlugin")," annotation."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'@RegisterPlugin\npublic class ExampleZonePlugin extends ZonePlugin {\n\n    public ExampleZonePlugin() {\n        super("Plugin zone", new LayeredZoneRegionFunction(new ConstantLayerThickness(1), DEEP_UNDERGROUND));\n\n        // Inferno\n        addProvider(new SurfaceProvider());\n        addRasterizer(new SingleBlockRasterizer("CoreAssets:Glass"));\n    }\n}\n')))}l.isMDXComponent=!0},95:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return h}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),l=function(e){var n=r.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},b=function(e){var n=l(e.components);return r.a.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},u=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),b=l(t),u=a,h=b["".concat(i,".").concat(u)]||b[u]||p[u]||o;return t?r.a.createElement(h,s(s({ref:n},c),{},{components:t})):r.a.createElement(h,s({ref:n},c))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=u;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=t[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);